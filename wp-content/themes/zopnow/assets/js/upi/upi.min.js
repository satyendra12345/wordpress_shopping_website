jQuery(document).ready(function(e) {
	//alert('hello');
    /*if ("undefined" == typeof upiwc_params) return !1;
    1 == upiwc_params.prevent_reload && (window.onbeforeunload = function() {
        return "Are you sure you want to leave?"
    });*/
    var t = e("#data-qr-code"),
        a = encodeURI(t.data("link"));
    e("#upiwc-qrcode").length && new QRCode("upiwc-qrcode", {
        text: a,
        width: t.data("width"),
        height: t.data("height"),
        correctLevel: QRCode.CorrectLevel.H,
        quietZone: 6,
        onRenderingEnd: function() {
            e("#upiwc-confirm-payment").trigger("click")
        }
    }), e("#upiwc-cancel-payment").click(function(e) {
        window.onbeforeunload = null, window.location.href = upiwc_params.cancel_url, e.preventDefault()
    }), e("#upiwc-confirm-payment").on("click", function(t) {
        var a = e.confirm({
            title: '<span class="upiwc-popup-title">Scan this QR Code</span>',
            content: e("#js_qrcode").html(),
            useBootstrap: !1,
            theme: upiwc_params.app_theme,
            animation: "scale",
            type: e("#upiwc-confirm-payment").data("theme"),
            boxWidth: e("#data-dialog-box").data("pay"),
            draggable: !1,
            offsetBottom: e("#data-dialog-box").data("offset"),
            offsetTop: e("#data-dialog-box").data("offset"),
            buttons: {
                nextStep: {
                    text: "Proceed to Next Step",
                    btnClass: "btn-" + e("#upiwc-confirm-payment").data("theme"),
                    keys: ["enter", "shift"],
                    action: function() {
                        return a.toggle(), e.confirm({
                            title: '<span class="upiwc-popup-title">Confirm your Payment!</span>',
                            content: '<div id="upiwc-confirm-text" class="upiwc-confirm-text">' + upiwc_params.confirm_redirect + "</div>",
                            useBootstrap: !1,
                            theme: upiwc_params.app_theme,
                            type: e("#upiwc-confirm-payment").data("theme"),
                            boxWidth: e("#data-dialog-box").data("redirect"),
                            draggable: !1,
                            buttons: {
                                confirm: {
                                    text: "Confirm",
                                    btnClass: "btn-" + e("#upiwc-confirm-payment").data("theme"),
                                    action: function() {
                                        window.onbeforeunload = null, e("#payment-success-container").html("<form method='POST' action='" + upiwc_params.callback_url + "' id='UPIJSCheckoutForm' style='display: none;'><input type='hidden' name='wc_order_id' value='" + upiwc_params.orderid + "'><input type='hidden' name='wc_order_key' value='" + upiwc_params.order_key + "'></form>"), e.dialog({
                                            title: "Processing!",
                                            content: "Please wait while we are processing your request...",
                                            useBootstrap: !1,
                                            draggable: !1,
                                            type: "blue",
                                            closeIcon: !1,
                                            offsetBottom: e("#data-dialog-box").data("offset"),
                                            offsetTop: e("#data-dialog-box").data("offset"),
                                            boxWidth: e("#data-dialog-box").data("redirect")
                                        }), e("#UPIJSCheckoutForm").submit()
                                    }
                                },
                                goBack: {
                                    text: "Go Back",
                                    action: function() {
                                        a.toggle()
                                    }
                                }
                            }
                        }), !1
                    }
                },
                close: function() {
                    e("#upiwc-processing").hide(), e(".upiwc-buttons").fadeIn("slow"), e(".upiwc-waiting-text").text("Please click the Pay Now button below to complete the payment against this order.")
                }
            }
        });
        e("#upiwc-processing").show(), e(".upiwc-buttons").hide(), e(".upiwc-waiting-text").text("Please wait and don't press back or refresh this page while we are processing your payment..."), t.preventDefault()
    })
});